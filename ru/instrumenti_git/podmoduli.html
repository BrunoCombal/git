<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Подмодули | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GitbookIO">
        <meta name="description" content="The entire Pro Git book.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../instrumenti_git/sliyanie_podderevev.html" />
        
        
        <link rel="prev" href="../instrumenti_git/otladka_s_pomoschyu_git.html" />
        

        <meta property="og:title" content="Подмодули | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GitbookIO">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="GitbookIO/git" data-level="6.6" data-basepath=".." data-revision="1396895631613">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/GitbookIO/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/GitbookIO/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GitbookIO/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/GitbookIO" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/edit/master/instrumenti_git/podmoduli.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="nastroika_git/README.html">
                
                <a href="../nastroika_git/README.html">
                    <i class="fa fa-check"></i> <b>1)</b> Настройка Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="nastroika_git/konfigurirovanie_git.html">
                            
                            <a href="../nastroika_git/konfigurirovanie_git.html">
                                <i class="fa fa-check"></i> <b>1.1)</b> Конфигурирование Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="nastroika_git/git_atributi.html">
                            
                            <a href="../nastroika_git/git_atributi.html">
                                <i class="fa fa-check"></i> <b>1.2)</b> Git-атрибуты
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="nastroika_git/perehvatchiki_v_git.html">
                            
                            <a href="../nastroika_git/perehvatchiki_v_git.html">
                                <i class="fa fa-check"></i> <b>1.3)</b> Перехватчики в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                            
                            <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>1.4)</b> Пример навязывания политики с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="nastroika_git/itogi.html">
                            
                            <a href="../nastroika_git/itogi.html">
                                <i class="fa fa-check"></i> <b>1.5)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="vvedenie/README.html">
                
                <a href="../vvedenie/README.html">
                    <i class="fa fa-check"></i> <b>2)</b> Введение
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="vvedenie/o_kontrole_versii.html">
                            
                            <a href="../vvedenie/o_kontrole_versii.html">
                                <i class="fa fa-check"></i> <b>2.1)</b> О контроле версий
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="vvedenie/kratkaya_istoriya_git.html">
                            
                            <a href="../vvedenie/kratkaya_istoriya_git.html">
                                <i class="fa fa-check"></i> <b>2.2)</b> Краткая история Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="vvedenie/osnovi_git.html">
                            
                            <a href="../vvedenie/osnovi_git.html">
                                <i class="fa fa-check"></i> <b>2.3)</b> Основы Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="vvedenie/ustanovka_git.html">
                            
                            <a href="../vvedenie/ustanovka_git.html">
                                <i class="fa fa-check"></i> <b>2.4)</b> Установка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="vvedenie/pervonachalnaya_nastroika_git.html">
                            
                            <a href="../vvedenie/pervonachalnaya_nastroika_git.html">
                                <i class="fa fa-check"></i> <b>2.5)</b> Первоначальная настройка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="vvedenie/kak_poluchit_pomosch.html">
                            
                            <a href="../vvedenie/kak_poluchit_pomosch.html">
                                <i class="fa fa-check"></i> <b>2.6)</b> Как получить помощь?
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="vvedenie/itogi.html">
                            
                            <a href="../vvedenie/itogi.html">
                                <i class="fa fa-check"></i> <b>2.7)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="vetvlenie_v_git/README.html">
                
                <a href="../vetvlenie_v_git/README.html">
                    <i class="fa fa-check"></i> <b>3)</b> Ветвление в Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="vetvlenie_v_git/chto_takoe_vetka.html">
                            
                            <a href="../vetvlenie_v_git/chto_takoe_vetka.html">
                                <i class="fa fa-check"></i> <b>3.1)</b> Что такое ветка?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                            
                            <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                                <i class="fa fa-check"></i> <b>3.2)</b> Основы ветвления и слияния
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="vetvlenie_v_git/upravlenie_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/upravlenie_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.3)</b> Управление ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.4)</b> Приёмы работы с ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="vetvlenie_v_git/udalyonnie_vetki.html">
                            
                            <a href="../vetvlenie_v_git/udalyonnie_vetki.html">
                                <i class="fa fa-check"></i> <b>3.5)</b> Удалённые ветки
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="vetvlenie_v_git/peremeschenie.html">
                            
                            <a href="../vetvlenie_v_git/peremeschenie.html">
                                <i class="fa fa-check"></i> <b>3.6)</b> Перемещение
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="vetvlenie_v_git/itogi.html">
                            
                            <a href="../vetvlenie_v_git/itogi.html">
                                <i class="fa fa-check"></i> <b>3.7)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_na_servere/README.html">
                
                <a href="../git_na_servere/README.html">
                    <i class="fa fa-check"></i> <b>4)</b> Git на сервере
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_na_servere/protokoli.html">
                            
                            <a href="../git_na_servere/protokoli.html">
                                <i class="fa fa-check"></i> <b>4.1)</b> Протоколы
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_na_servere/nastroika_git_na_servere.html">
                            
                            <a href="../git_na_servere/nastroika_git_na_servere.html">
                                <i class="fa fa-check"></i> <b>4.2)</b> Настройка Git на сервере
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                            
                            <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                                <i class="fa fa-check"></i> <b>4.3)</b> Создание открытого SSH-ключа
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_na_servere/nastraivaem_server.html">
                            
                            <a href="../git_na_servere/nastraivaem_server.html">
                                <i class="fa fa-check"></i> <b>4.4)</b> Настраиваем сервер
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_na_servere/otkritii_dostup.html">
                            
                            <a href="../git_na_servere/otkritii_dostup.html">
                                <i class="fa fa-check"></i> <b>4.5)</b> Открытый доступ
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_na_servere/gitweb.html">
                            
                            <a href="../git_na_servere/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6)</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_na_servere/gitosis.html">
                            
                            <a href="../git_na_servere/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7)</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_na_servere/gitolite.html">
                            
                            <a href="../git_na_servere/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8)</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_na_servere/git_demon.html">
                            
                            <a href="../git_na_servere/git_demon.html">
                                <i class="fa fa-check"></i> <b>4.9)</b> Git-демон
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_na_servere/git_hosting.html">
                            
                            <a href="../git_na_servere/git_hosting.html">
                                <i class="fa fa-check"></i> <b>4.10)</b> Git-хостинг
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_na_servere/itogi.html">
                            
                            <a href="../git_na_servere/itogi.html">
                                <i class="fa fa-check"></i> <b>4.11)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="raspredelyonnii_git/README.html">
                
                <a href="../raspredelyonnii_git/README.html">
                    <i class="fa fa-check"></i> <b>5)</b> Распределённый Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                            
                            <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                                <i class="fa fa-check"></i> <b>5.1)</b> Распределённые рабочие процессы
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="raspredelyonnii_git/sodeistvie_proektu.html">
                            
                            <a href="../raspredelyonnii_git/sodeistvie_proektu.html">
                                <i class="fa fa-check"></i> <b>5.2)</b> Содействие проекту
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="raspredelyonnii_git/soprovozhdenie_proekta.html">
                            
                            <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html">
                                <i class="fa fa-check"></i> <b>5.3)</b> Сопровождение проекта
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="raspredelyonnii_git/itogi.html">
                            
                            <a href="../raspredelyonnii_git/itogi.html">
                                <i class="fa fa-check"></i> <b>5.4)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="instrumenti_git/README.html">
                
                <a href="../instrumenti_git/README.html">
                    <i class="fa fa-check"></i> <b>6)</b> Инструменты Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="instrumenti_git/vibor_revizii.html">
                            
                            <a href="../instrumenti_git/vibor_revizii.html">
                                <i class="fa fa-check"></i> <b>6.1)</b> Выбор ревизии
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="instrumenti_git/interaktivnoe_indeksirovanie.html">
                            
                            <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html">
                                <i class="fa fa-check"></i> <b>6.2)</b> Интерактивное индексирование
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="instrumenti_git/pryatane.html">
                            
                            <a href="../instrumenti_git/pryatane.html">
                                <i class="fa fa-check"></i> <b>6.3)</b> Прятанье
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="instrumenti_git/perezapis_istorii.html">
                            
                            <a href="../instrumenti_git/perezapis_istorii.html">
                                <i class="fa fa-check"></i> <b>6.4)</b> Перезапись истории
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="instrumenti_git/otladka_s_pomoschyu_git.html">
                            
                            <a href="../instrumenti_git/otladka_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>6.5)</b> Отладка с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="instrumenti_git/podmoduli.html">
                            
                            <a href="../instrumenti_git/podmoduli.html">
                                <i class="fa fa-check"></i> <b>6.6)</b> Подмодули
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="instrumenti_git/sliyanie_podderevev.html">
                            
                            <a href="../instrumenti_git/sliyanie_podderevev.html">
                                <i class="fa fa-check"></i> <b>6.7)</b> Слияние поддеревьев
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="instrumenti_git/itogi.html">
                            
                            <a href="../instrumenti_git/itogi.html">
                                <i class="fa fa-check"></i> <b>6.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="osnovi_git/README.html">
                
                <a href="../osnovi_git/README.html">
                    <i class="fa fa-check"></i> <b>7)</b> Основы Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="osnovi_git/sozdanie_git_repozitoriya.html">
                            
                            <a href="../osnovi_git/sozdanie_git_repozitoriya.html">
                                <i class="fa fa-check"></i> <b>7.1)</b> Создание Git-репозитория
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="osnovi_git/zapis_izmenenii_v_repozitorii.html">
                            
                            <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html">
                                <i class="fa fa-check"></i> <b>7.2)</b> Запись изменений в репозиторий
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="osnovi_git/prosmotr_istorii_kommitov.html">
                            
                            <a href="../osnovi_git/prosmotr_istorii_kommitov.html">
                                <i class="fa fa-check"></i> <b>7.3)</b> Просмотр истории коммитов
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="osnovi_git/otmena_izmenenii.html">
                            
                            <a href="../osnovi_git/otmena_izmenenii.html">
                                <i class="fa fa-check"></i> <b>7.4)</b> Отмена изменений
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                            
                            <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                                <i class="fa fa-check"></i> <b>7.5)</b> Работа с удалёнными репозиториями
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="osnovi_git/rabota_s_metkami.html">
                            
                            <a href="../osnovi_git/rabota_s_metkami.html">
                                <i class="fa fa-check"></i> <b>7.6)</b> Работа с метками
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="osnovi_git/poleznie_soveti.html">
                            
                            <a href="../osnovi_git/poleznie_soveti.html">
                                <i class="fa fa-check"></i> <b>7.7)</b> Полезные советы
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="osnovi_git/itogi.html">
                            
                            <a href="../osnovi_git/itogi.html">
                                <i class="fa fa-check"></i> <b>7.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_i_drugie_sistemi_kontrolya_versii/README.html">
                
                <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html">
                    <i class="fa fa-check"></i> <b>8)</b> Git и другие системы контроля версий
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1)</b> Git и Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                                <i class="fa fa-check"></i> <b>8.2)</b> Миграция на Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                                <i class="fa fa-check"></i> <b>8.3)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_iznutri/README.html">
                
                <a href="../git_iznutri/README.html">
                    <i class="fa fa-check"></i> <b>9)</b> Git изнутри
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_iznutri/santehnika_i_farfor.html">
                            
                            <a href="../git_iznutri/santehnika_i_farfor.html">
                                <i class="fa fa-check"></i> <b>9.1)</b> Сантехника и фарфор
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_iznutri/obekti_v_git.html">
                            
                            <a href="../git_iznutri/obekti_v_git.html">
                                <i class="fa fa-check"></i> <b>9.2)</b> Объекты в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_iznutri/ssilki_v_git.html">
                            
                            <a href="../git_iznutri/ssilki_v_git.html">
                                <i class="fa fa-check"></i> <b>9.3)</b> Ссылки в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_iznutri/pack_faili.html">
                            
                            <a href="../git_iznutri/pack_faili.html">
                                <i class="fa fa-check"></i> <b>9.4)</b> Pack-файлы
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_iznutri/spetsifikatsii_ssilok.html">
                            
                            <a href="../git_iznutri/spetsifikatsii_ssilok.html">
                                <i class="fa fa-check"></i> <b>9.5)</b> Спецификации ссылок
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_iznutri/protokoli_peredachi.html">
                            
                            <a href="../git_iznutri/protokoli_peredachi.html">
                                <i class="fa fa-check"></i> <b>9.6)</b> Протоколы передачи
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                            
                            <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                                <i class="fa fa-check"></i> <b>9.7)</b> Обслуживание и восстановление данных
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_iznutri/itogi.html">
                            
                            <a href="../git_iznutri/itogi.html">
                                <i class="fa fa-check"></i> <b>9.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 65.71428571428571%;min-width: 64.28571428571429%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../nastroika_git/README.html" title="Настройка Git" class="chapter done new-chapter" data-progress="1" style="left: 1.4285714285714286%;"></a>
    
        <a href="../nastroika_git/konfigurirovanie_git.html" title="Конфигурирование Git" class="chapter done " data-progress="1.1" style="left: 2.857142857142857%;"></a>
    
        <a href="../nastroika_git/git_atributi.html" title="Git-атрибуты" class="chapter done " data-progress="1.2" style="left: 4.285714285714286%;"></a>
    
        <a href="../nastroika_git/perehvatchiki_v_git.html" title="Перехватчики в Git" class="chapter done " data-progress="1.3" style="left: 5.714285714285714%;"></a>
    
        <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html" title="Пример навязывания политики с помощью Git" class="chapter done " data-progress="1.4" style="left: 7.142857142857143%;"></a>
    
        <a href="../nastroika_git/itogi.html" title="Итоги" class="chapter done " data-progress="1.5" style="left: 8.571428571428571%;"></a>
    
        <a href="../vvedenie/README.html" title="Введение" class="chapter done new-chapter" data-progress="2" style="left: 10%;"></a>
    
        <a href="../vvedenie/o_kontrole_versii.html" title="О контроле версий" class="chapter done " data-progress="2.1" style="left: 11.428571428571429%;"></a>
    
        <a href="../vvedenie/kratkaya_istoriya_git.html" title="Краткая история Git" class="chapter done " data-progress="2.2" style="left: 12.857142857142858%;"></a>
    
        <a href="../vvedenie/osnovi_git.html" title="Основы Git" class="chapter done " data-progress="2.3" style="left: 14.285714285714286%;"></a>
    
        <a href="../vvedenie/ustanovka_git.html" title="Установка Git" class="chapter done " data-progress="2.4" style="left: 15.714285714285714%;"></a>
    
        <a href="../vvedenie/pervonachalnaya_nastroika_git.html" title="Первоначальная настройка Git" class="chapter done " data-progress="2.5" style="left: 17.142857142857142%;"></a>
    
        <a href="../vvedenie/kak_poluchit_pomosch.html" title="Как получить помощь?" class="chapter done " data-progress="2.6" style="left: 18.571428571428573%;"></a>
    
        <a href="../vvedenie/itogi.html" title="Итоги" class="chapter done " data-progress="2.7" style="left: 20%;"></a>
    
        <a href="../vetvlenie_v_git/README.html" title="Ветвление в Git" class="chapter done new-chapter" data-progress="3" style="left: 21.428571428571427%;"></a>
    
        <a href="../vetvlenie_v_git/chto_takoe_vetka.html" title="Что такое ветка?" class="chapter done " data-progress="3.1" style="left: 22.857142857142858%;"></a>
    
        <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html" title="Основы ветвления и слияния" class="chapter done " data-progress="3.2" style="left: 24.285714285714285%;"></a>
    
        <a href="../vetvlenie_v_git/upravlenie_vetkami.html" title="Управление ветками" class="chapter done " data-progress="3.3" style="left: 25.714285714285715%;"></a>
    
        <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html" title="Приёмы работы с ветками" class="chapter done " data-progress="3.4" style="left: 27.142857142857142%;"></a>
    
        <a href="../vetvlenie_v_git/udalyonnie_vetki.html" title="Удалённые ветки" class="chapter done " data-progress="3.5" style="left: 28.571428571428573%;"></a>
    
        <a href="../vetvlenie_v_git/peremeschenie.html" title="Перемещение" class="chapter done " data-progress="3.6" style="left: 30%;"></a>
    
        <a href="../vetvlenie_v_git/itogi.html" title="Итоги" class="chapter done " data-progress="3.7" style="left: 31.428571428571427%;"></a>
    
        <a href="../git_na_servere/README.html" title="Git на сервере" class="chapter done new-chapter" data-progress="4" style="left: 32.857142857142854%;"></a>
    
        <a href="../git_na_servere/protokoli.html" title="Протоколы" class="chapter done " data-progress="4.1" style="left: 34.285714285714285%;"></a>
    
        <a href="../git_na_servere/git_hosting.html" title="Git-хостинг" class="chapter done " data-progress="4.10" style="left: 35.714285714285715%;"></a>
    
        <a href="../git_na_servere/itogi.html" title="Итоги" class="chapter done " data-progress="4.11" style="left: 37.142857142857146%;"></a>
    
        <a href="../git_na_servere/nastroika_git_na_servere.html" title="Настройка Git на сервере" class="chapter done " data-progress="4.2" style="left: 38.57142857142857%;"></a>
    
        <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html" title="Создание открытого SSH-ключа" class="chapter done " data-progress="4.3" style="left: 40%;"></a>
    
        <a href="../git_na_servere/nastraivaem_server.html" title="Настраиваем сервер" class="chapter done " data-progress="4.4" style="left: 41.42857142857143%;"></a>
    
        <a href="../git_na_servere/otkritii_dostup.html" title="Открытый доступ" class="chapter done " data-progress="4.5" style="left: 42.857142857142854%;"></a>
    
        <a href="../git_na_servere/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 44.285714285714285%;"></a>
    
        <a href="../git_na_servere/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 45.714285714285715%;"></a>
    
        <a href="../git_na_servere/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.8" style="left: 47.142857142857146%;"></a>
    
        <a href="../git_na_servere/git_demon.html" title="Git-демон" class="chapter done " data-progress="4.9" style="left: 48.57142857142857%;"></a>
    
        <a href="../raspredelyonnii_git/README.html" title="Распределённый Git" class="chapter done new-chapter" data-progress="5" style="left: 50%;"></a>
    
        <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html" title="Распределённые рабочие процессы" class="chapter done " data-progress="5.1" style="left: 51.42857142857143%;"></a>
    
        <a href="../raspredelyonnii_git/sodeistvie_proektu.html" title="Содействие проекту" class="chapter done " data-progress="5.2" style="left: 52.857142857142854%;"></a>
    
        <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html" title="Сопровождение проекта" class="chapter done " data-progress="5.3" style="left: 54.285714285714285%;"></a>
    
        <a href="../raspredelyonnii_git/itogi.html" title="Итоги" class="chapter done " data-progress="5.4" style="left: 55.714285714285715%;"></a>
    
        <a href="../instrumenti_git/README.html" title="Инструменты Git" class="chapter done new-chapter" data-progress="6" style="left: 57.142857142857146%;"></a>
    
        <a href="../instrumenti_git/vibor_revizii.html" title="Выбор ревизии" class="chapter done " data-progress="6.1" style="left: 58.57142857142857%;"></a>
    
        <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html" title="Интерактивное индексирование" class="chapter done " data-progress="6.2" style="left: 60%;"></a>
    
        <a href="../instrumenti_git/pryatane.html" title="Прятанье" class="chapter done " data-progress="6.3" style="left: 61.42857142857143%;"></a>
    
        <a href="../instrumenti_git/perezapis_istorii.html" title="Перезапись истории" class="chapter done " data-progress="6.4" style="left: 62.857142857142854%;"></a>
    
        <a href="../instrumenti_git/otladka_s_pomoschyu_git.html" title="Отладка с помощью Git" class="chapter done " data-progress="6.5" style="left: 64.28571428571429%;"></a>
    
        <a href="../instrumenti_git/podmoduli.html" title="Подмодули" class="chapter done " data-progress="6.6" style="left: 65.71428571428571%;"></a>
    
        <a href="../instrumenti_git/sliyanie_podderevev.html" title="Слияние поддеревьев" class="chapter  " data-progress="6.7" style="left: 67.14285714285714%;"></a>
    
        <a href="../instrumenti_git/itogi.html" title="Итоги" class="chapter  " data-progress="6.8" style="left: 68.57142857142857%;"></a>
    
        <a href="../osnovi_git/README.html" title="Основы Git" class="chapter  new-chapter" data-progress="7" style="left: 70%;"></a>
    
        <a href="../osnovi_git/sozdanie_git_repozitoriya.html" title="Создание Git-репозитория" class="chapter  " data-progress="7.1" style="left: 71.42857142857143%;"></a>
    
        <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html" title="Запись изменений в репозиторий" class="chapter  " data-progress="7.2" style="left: 72.85714285714286%;"></a>
    
        <a href="../osnovi_git/prosmotr_istorii_kommitov.html" title="Просмотр истории коммитов" class="chapter  " data-progress="7.3" style="left: 74.28571428571429%;"></a>
    
        <a href="../osnovi_git/otmena_izmenenii.html" title="Отмена изменений" class="chapter  " data-progress="7.4" style="left: 75.71428571428571%;"></a>
    
        <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html" title="Работа с удалёнными репозиториями" class="chapter  " data-progress="7.5" style="left: 77.14285714285714%;"></a>
    
        <a href="../osnovi_git/rabota_s_metkami.html" title="Работа с метками" class="chapter  " data-progress="7.6" style="left: 78.57142857142857%;"></a>
    
        <a href="../osnovi_git/poleznie_soveti.html" title="Полезные советы" class="chapter  " data-progress="7.7" style="left: 80%;"></a>
    
        <a href="../osnovi_git/itogi.html" title="Итоги" class="chapter  " data-progress="7.8" style="left: 81.42857142857143%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html" title="Git и другие системы контроля версий" class="chapter  new-chapter" data-progress="8" style="left: 82.85714285714286%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html" title="Git и Subversion" class="chapter  " data-progress="8.1" style="left: 84.28571428571429%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html" title="Миграция на Git" class="chapter  " data-progress="8.2" style="left: 85.71428571428571%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html" title="Итоги" class="chapter  " data-progress="8.3" style="left: 87.14285714285714%;"></a>
    
        <a href="../git_iznutri/README.html" title="Git изнутри" class="chapter  new-chapter" data-progress="9" style="left: 88.57142857142857%;"></a>
    
        <a href="../git_iznutri/santehnika_i_farfor.html" title="Сантехника и фарфор" class="chapter  " data-progress="9.1" style="left: 90%;"></a>
    
        <a href="../git_iznutri/obekti_v_git.html" title="Объекты в Git" class="chapter  " data-progress="9.2" style="left: 91.42857142857143%;"></a>
    
        <a href="../git_iznutri/ssilki_v_git.html" title="Ссылки в Git" class="chapter  " data-progress="9.3" style="left: 92.85714285714286%;"></a>
    
        <a href="../git_iznutri/pack_faili.html" title="Pack-файлы" class="chapter  " data-progress="9.4" style="left: 94.28571428571429%;"></a>
    
        <a href="../git_iznutri/spetsifikatsii_ssilok.html" title="Спецификации ссылок" class="chapter  " data-progress="9.5" style="left: 95.71428571428571%;"></a>
    
        <a href="../git_iznutri/protokoli_peredachi.html" title="Протоколы передачи" class="chapter  " data-progress="9.6" style="left: 97.14285714285714%;"></a>
    
        <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html" title="Обслуживание и восстановление данных" class="chapter  " data-progress="9.7" style="left: 98.57142857142857%;"></a>
    
        <a href="../git_iznutri/itogi.html" title="Итоги" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_748">
                    
                        <h1 id="-">Подмодули</h1>
<p>Зачастую случается так, что во время работы над некоторым проектом появляется необходимость использовать внутри него ещё какой-то проект. Возможно, библиотеку, разрабатываемую сторонними разработчиками или разрабатываемую вами обособленно и используемую в нескольких родительских проектах. Типичная проблема, возникающая при использовании подобного сценария, это, как сделать так, чтобы иметь возможность рассматривать эти два проекта как отдельные, всё же имея возможность использовать один проект внутри другого.</p>
<p>Вот пример. Предположим, вы разрабатываете веб-сайт и создаёте Atom-ленты. И вместо того, чтобы писать собственный код, генерирующий Atom, вы решили использовать библиотеку. Вы, вероятно, должны либо подключить нужный код с помощью разделяемой библиотеки, такой как устанавливаемый модуль CPAN или пакет RubyGem, либо скопировать исходный код в дерево собственного проекта. Проблема с подключением библиотеки в том, что библиотеку сложно хоть как-то модифицировать под свои нужды, и зачастую её сложнее распространять. Ведь вы вынуждены удостовериться в том, что эта библиотека доступна на каждом клиенте. Проблема с включением кода в ваш собственный проект в том, что любые изменения, вносимые вами, могут конфликтовать с изменениями, которые появятся в основном проекте, и эти изменения будет сложно слить.</p>
<p>Git решает эту задачу, используя подмодули (submodule). Подмодули позволяют содержать один Git-репозиторий как подкаталог другого Git-репозитория. Это даёт возможность клонировать ещё один репозиторий внутрь проекта, храня коммиты для этого репозитория отдельно.</p>
<h2 id="-">Начало использования подмодулей</h2>
<p>Предположим, вы хотите добавить библиотеку Rack (интерфейс шлюза веб-сервера Ruby) в свой проект, возможно, внося свои собственные изменения в него, но продолжая сливать их с изменениями основного проекта. Первое, что вам требуется сделать, это клонировать внешний репозиторий в подкаталог. Добавление внешних проектов в качестве подмодулей делается командой <code>git submodule add</code>:</p>
<pre><code>$ git submodule <span class="hljs-keyword">add</span> git://github<span class="hljs-preprocessor">.com</span>/chneukirchen/rack<span class="hljs-preprocessor">.git</span> rack
Initialized empty Git repository <span class="hljs-keyword">in</span> /opt/subtest/rack/<span class="hljs-preprocessor">.git</span>/
<span class="hljs-label">remote:</span> Counting objects: <span class="hljs-number">3181</span>, done.
<span class="hljs-label">remote:</span> Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">1534</span>/<span class="hljs-number">1534</span>), done.
<span class="hljs-label">remote:</span> Total <span class="hljs-number">3181</span> (delta <span class="hljs-number">1951</span>), reused <span class="hljs-number">2623</span> (delta <span class="hljs-number">1603</span>)
Receiving objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3181</span>/<span class="hljs-number">3181</span>), <span class="hljs-number">675.42</span> KiB | <span class="hljs-number">422</span> KiB/s, done.
Resolving deltas: <span class="hljs-number">100</span>% (<span class="hljs-number">1951</span>/<span class="hljs-number">1951</span>), done.
</code></pre><p>Теперь у вас внутри проекта в подкаталоге с именем <code>rack</code> находится проект Rack. Вы можете переходить в этот подкаталог, вносить изменения, добавить ваш собственный доступный для записи внешний репозиторий для отправки в него своих изменений, извлекать и сливать из исходного репозитория и многое другое. Если вы выполните <code>git status</code> сразу после добавления подмодуля, то увидите две вещи:</p>
<pre><code>$ git status
<span class="hljs-preprocessor"># On branch master</span>
<span class="hljs-preprocessor"># Changes to be committed:</span>
<span class="hljs-preprocessor">#   (use "git reset HEAD &lt;file&gt;..." to unstage)</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor">#      new file:   .gitmodules</span>
<span class="hljs-preprocessor">#      new file:   rack</span>
<span class="hljs-preprocessor">#</span>
</code></pre><p>Вначале вы заметите файл <code>.gitmodules</code>. Это конфигурационный файл, который содержит соответствие между URL проекта и локальным подкаталогом, в который был загружен подмодуль:</p>
<pre><code>$ cat <span class="hljs-preprocessor">.gitmodules</span> 
[submodule <span class="hljs-string">"rack"</span>]
      path = rack
      url = git://github<span class="hljs-preprocessor">.com</span>/chneukirchen/rack<span class="hljs-preprocessor">.git</span>
</code></pre><p>Если у вас несколько подмодулей, то в этом файле будет несколько записей. Важно обратить внимание на то, что этот файл находится под версионным контролем вместе с другими вашими файлами, так же как и файл <code>.gitignore</code>. Он отправляется при выполнении <code>push</code> и загружается при выполнении <code>pull</code> вместе с остальными файлами проекта. Так другие люди, которые клонируют этот проект, узнают, откуда взять проекты-подмодули.</p>
<p>В следующем листинге вывода <code>git status</code> присутствует элемент <code>rack</code>. Если вы выполните <code>git diff</code> для него, то увидите кое-что интересное:</p>
<pre><code>$ git diff <span class="hljs-comment">--cached rack</span>
diff <span class="hljs-comment">--git a/rack b/rack</span>
<span class="hljs-built_in">new</span> <span class="hljs-built_in">file</span> mode <span class="hljs-number">160000</span>
index <span class="hljs-number">0000000.</span><span class="hljs-number">.08</span>d709f
<span class="hljs-comment">--- /dev/null</span>
+++ b/rack
@@ -<span class="hljs-number">0</span>,<span class="hljs-number">0</span> +<span class="hljs-number">1</span> @@
+Subproject commit <span class="hljs-number">08</span>d709f78b8c5b0fbeb7821e37fa53e69afcf433
</code></pre><p>Хотя <code>rack</code> является подкаталогом в вашем рабочем каталоге, Git видит его как подмодуль и не отслеживает его содержимое, если вы не находитесь в нём. Вместо этого, Git записывает его как один конкретный коммит из этого репозитория. Если вы производите изменения в этом подкаталоге и делаете коммит, основной проект замечает, что HEAD в подмодуле был изменён, и регистрирует тот хеш коммита, над которым вы в данный момент завершили работу в подмодуле. Таким образом, если кто-то склонирует этот проект, он сможет воссоздать окружение в точности.</p>
<p>Это важная особенность подмодулей – вы запоминаете их как определенный коммит (состояние), в котором они находятся. Вы не можете записать подмодуль под ссылкой <code>master</code> или какой-либо другой символьной ссылкой.</p>
<p>Если вы создадите коммит, то увидите что-то вроде этого:</p>
<pre><code>$ git <span class="hljs-operator"><span class="hljs-keyword">commit</span> -m <span class="hljs-string">'first commit with submodule rack'</span>
[master <span class="hljs-number">0550271</span>] <span class="hljs-keyword">first</span> <span class="hljs-keyword">commit</span> <span class="hljs-keyword">with</span> submodule rack
 <span class="hljs-number">2</span> files changed, <span class="hljs-number">4</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
 <span class="hljs-keyword">create</span> mode <span class="hljs-number">100644</span> .gitmodules
 <span class="hljs-keyword">create</span> mode <span class="hljs-number">160000</span> rack</span>
</code></pre><p>Обратите внимание на режим 160000 для элемента rack. Это специальный режим в Git&#39;е, который по существу означает, что в качестве записи в каталоге сохраняется коммит, а не подкаталог или файл.</p>
<p>Вы можете обращаться с каталогом <code>rack</code> как с отдельным проектом и время от времени обновлять свой &quot;надпроект&quot; с помощью указателя на самый последний коммит в этом подпроекте. Все команды Git&#39;а в этих двух каталогах работают независимо друг от друга:</p>
<pre><code>$ git log -1
<span class="hljs-operator"><span class="hljs-keyword">commit</span> <span class="hljs-number">0550271328</span>a0038865aad6331e620cd7238601bb
Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="hljs-keyword">Date</span>:   Thu Apr <span class="hljs-number">9</span> <span class="hljs-number">09</span>:<span class="hljs-number">03</span>:<span class="hljs-number">56</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    <span class="hljs-keyword">first</span> <span class="hljs-keyword">commit</span> <span class="hljs-keyword">with</span> submodule rack
$ cd rack/
$ git log -<span class="hljs-number">1</span>
<span class="hljs-keyword">commit</span> <span class="hljs-number">08</span>d709f78b8c5b0fbeb7821e37fa53e69afcf433
Author: Christian Neukirchen &lt;chneukirchen@gmail.com&gt;
<span class="hljs-keyword">Date</span>:   Wed Mar <span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">49</span>:<span class="hljs-number">04</span> <span class="hljs-number">2009</span> +<span class="hljs-number">0100</span>

    Document version change</span>
</code></pre><h2 id="-">Клонирование проекта с подмодулями</h2>
<p>Сейчас мы склонируем проект, содержащий подмодуль. После получения такого проекта в вашей копии будут каталоги, содержащие подмодули, но пока что без единого файла в них:</p>
<pre><code>$ git clone git://github<span class="hljs-preprocessor">.com</span>/schacon/myproject<span class="hljs-preprocessor">.git</span>
Initialized empty Git repository <span class="hljs-keyword">in</span> /opt/myproject/<span class="hljs-preprocessor">.git</span>/
<span class="hljs-label">remote:</span> Counting objects: <span class="hljs-number">6</span>, done.
<span class="hljs-label">remote:</span> Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">4</span>/<span class="hljs-number">4</span>), done.
<span class="hljs-label">remote:</span> Total <span class="hljs-number">6</span> (delta <span class="hljs-number">0</span>), reused <span class="hljs-number">0</span> (delta <span class="hljs-number">0</span>)
Receiving objects: <span class="hljs-number">100</span>% (<span class="hljs-number">6</span>/<span class="hljs-number">6</span>), done.
$ cd myproject
$ ls -l
total <span class="hljs-number">8</span>
-rw-r--r--  <span class="hljs-number">1</span> schacon  admin   <span class="hljs-number">3</span> Apr  <span class="hljs-number">9</span> <span class="hljs-number">09</span>:<span class="hljs-number">11</span> README
drwxr-xr-<span class="hljs-built_in">x</span>  <span class="hljs-number">2</span> schacon  admin  <span class="hljs-number">68</span> Apr  <span class="hljs-number">9</span> <span class="hljs-number">09</span>:<span class="hljs-number">11</span> rack
$ ls rack/
$
</code></pre><p>Каталог <code>rack</code> присутствует, но он пустой. Необходимо выполнить две команды: <code>git submodule init</code> для инициализации вашего локального файла конфигурации и <code>git submodule update</code> для получения всех данных из подмодуля и перехода к соответствующему коммиту, указанному в вашем основном проекте:</p>
<pre><code>$ git submodule init
Submodule <span class="hljs-string">'rack'</span> (git:<span class="hljs-comment">//github.com/chneukirchen/rack.git) registered for path 'rack'</span>
$ git submodule update
Initialized empty Git repository <span class="hljs-keyword">in</span> /opt/myproject/rack/.git/
remote: Counting objects: <span class="hljs-number">3181</span>, done.
remote: Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">1534</span>/<span class="hljs-number">1534</span>), done.
remote: Total <span class="hljs-number">3181</span> (delta <span class="hljs-number">1951</span>), reused <span class="hljs-number">2623</span> (delta <span class="hljs-number">1603</span>)
Receiving objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3181</span>/<span class="hljs-number">3181</span>), <span class="hljs-number">675.42</span> KiB | <span class="hljs-number">173</span> KiB/s, done.
Resolving deltas: <span class="hljs-number">100</span>% (<span class="hljs-number">1951</span>/<span class="hljs-number">1951</span>), done.
Submodule path <span class="hljs-string">'rack'</span>: <span class="hljs-keyword">checked</span> <span class="hljs-keyword">out</span> <span class="hljs-string">'08d709f78b8c5b0fbeb7821e37fa53e69afcf433'</span>
</code></pre><p>Теперь ваш подкаталог <code>rack</code> точно в том состоянии, в котором он был, когда вы раньше делали коммит. Если другой разработчик внесёт изменения в код rack и затем сделает коммит, а вы потом обновите эту ссылку и сольёте её, то вы получите что-то странное:</p>
<pre><code>$ git merge origin/master
Updating <span class="hljs-number">0550271.</span><span class="hljs-number">.85</span>a3eee
Fast forward
 rack |    <span class="hljs-number">2</span> +-
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
[master*]$ git status
<span class="hljs-preprocessor"># On branch master</span>
<span class="hljs-preprocessor"># Changes not staged for commit:</span>
<span class="hljs-preprocessor">#   (use "git add &lt;file&gt;..." to update what will be committed)</span>
<span class="hljs-preprocessor">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor">#      modified:   rack</span>
<span class="hljs-preprocessor">#</span>
</code></pre><p>Вы слили то, что по существу является изменением указателя на подмодуль. Но при этом обновления кода в каталоге подмодуля не произошло, так что всё выглядит так, как будто вы имеете грязное состояние в своём рабочем каталоге:</p>
<pre><code>$ git diff
diff --git a/rack b/rack
index 6c5e70b..08d709f 160000
<span class="hljs-header">--- a/rack</span>
<span class="hljs-header">+++ b/rack</span>
@@ -1 +1 @@
<span class="hljs-deletion">-Subproject commit 6c5e70b984a60b3cecd395edd5b48a7575bf58e0</span>
<span class="hljs-addition">+Subproject commit 08d709f78b8c5b0fbeb7821e37fa53e69afcf433</span>
</code></pre><p>Это всё из-за того, что ваш указатель на подмодуль не соответствует тому, что на самом деле находится в каталоге подмодуля. Чтобы исправить это, необходимо снова выполнить <code>git submodule update</code>:</p>
<pre><code>$ git submodule update
remote: Counting objects: <span class="hljs-number">5</span>, <span class="hljs-keyword">done</span>.
remote: Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), <span class="hljs-keyword">done</span>.
remote: Total <span class="hljs-number">3</span> (delta <span class="hljs-number">1</span>), reused <span class="hljs-number">2</span> (delta <span class="hljs-number">0</span>)
Unpacking objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3</span>/<span class="hljs-number">3</span>), <span class="hljs-keyword">done</span>.
From git@github.com:schacon/rack
   <span class="hljs-number">08</span>d709f.<span class="hljs-number">.6</span>c5e70b  master     -&gt; origin/master
Submodule path <span class="hljs-string">'rack'</span>: checked out <span class="hljs-string">'6c5e70b984a60b3cecd395edd5b48a7575bf58e0'</span>
</code></pre><p>Вы вынуждены делать так каждый раз, когда вы получаете изменения подмодуля в главном проекте. Это странно, но это работает.</p>
<p>Распространённая проблема возникает, когда разработчик делает изменения в своей локальной копии подмодуля, но не отправляет их на общий сервер. Затем он создаёт коммит содержащий указатель на это непубличное состояние и отправляет его в основной проект. Когда другие разработчики пытаются выполнить <code>git submodule update</code>, система работы с подмодулями не может найти указанный коммит, потому что он существует только в системе первого разработчика. Если такое случится, вы увидите ошибку вроде этой:</p>
<pre><code>$ git submodule <span class="hljs-operator"><span class="hljs-keyword">update</span>
fatal: reference isn’t a tree: <span class="hljs-number">6</span>c5e70b984a60b3cecd395edd5b48a7575bf58e0
Unable <span class="hljs-keyword">to</span> checkout <span class="hljs-string">'6c5e70b984a60b3cecd395edd5ba7575bf58e0'</span> <span class="hljs-keyword">in</span> submodule path <span class="hljs-string">'rack'</span></span>
</code></pre><p>Вам надо посмотреть, кто последним менял подмодуль:</p>
<pre><code>$ git log -1 rack
<span class="hljs-operator"><span class="hljs-keyword">commit</span> <span class="hljs-number">85</span>a3eee996800fcfa91e2119372dd4172bf76678
Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="hljs-keyword">Date</span>:   Thu Apr <span class="hljs-number">9</span> <span class="hljs-number">09</span>:<span class="hljs-number">19</span>:<span class="hljs-number">14</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    added a submodule reference I will never make <span class="hljs-keyword">public</span>. hahahahaha!</span>
</code></pre><p>А затем отправить этому человеку письмо со своими возмущениями.</p>
<h2 id="-">Суперпроекты</h2>
<p>Иногда разработчики хотят объединить подкаталоги крупного проекта в нечто связанное в зависимости от того, в какой они команде. Это типично для людей, перешедших с CVS или Subversion, где они определяли модуль или набор подкаталогов, и они хотят сохранить данный тип рабочего процесса.</p>
<p>Хороший способ сделать такое в Git&#39;е — это сделать каждый из подкаталогов отдельным Git-репозиторием, и создать Git-репозиторий для суперпроекта, который будет содержать несколько подмодулей. Преимущество такого подхода в том, что вы можете более гибко определять отношения между проектами при помощи меток и ветвей в суперпроектах.</p>
<h2 id="-">Проблемы с подмодулями</h2>
<p>Однако, использование подмодулей не обходится без загвоздок. Во-первых, вы должны быть относительно осторожны, работая в каталоге подмодуля. Когда вы выполняете команду <code>git submodule update</code>, она возвращает определённую версию проекта, но не внутри ветви. Это называется состоянием с отделённым HEAD (detached HEAD) — это означает, что файл HEAD указывает на конкретный коммит, а не на символическую ссылку. Проблема в том, что вы, скорее всего, не хотите работать в окружении с отделённым HEAD, потому что так легко потерять изменения. Если вы сделаете первоначальный <code>submodule update</code>, сделаете коммит в каталоге подмодуля, не создавая ветки для работы в ней, и затем вновь выполните <code>git submodule update</code> из основного проекта, без создания коммита в суперпроекте, Git затрёт ваши изменения без предупреждения. Технически вы не потеряете проделанную работу, но у вас не будет ветки, указывающей на неё, так что будет несколько сложновато её восстановить.</p>
<p>Для предотвращения этой проблемы создавайте ветвь, когда работаете в каталоге подмодуля с использованием команды <code>git checkout -b work</code> или какой-нибудь аналогичной. Когда вы сделаете обновление подмодуля командой <code>submodule update</code> в следующий раз, она всё же откатит вашу работу, но, по крайней мере, у вас будет указатель для возврата назад.</p>
<p>Переключение веток с подмодулями в них также может быть мудрёным. Если вы создадите новую ветку, добавите туда подмодуль и затем переключитесь обратно, туда где не было этого подмодуля, вы всё ещё будете иметь каталог подмодуля в виде неотслеживаемого каталога:</p>
<pre><code>$ git checkout -b rack
Switched to a new branch <span class="hljs-string">"rack"</span>
$ git submodule add git@github.com:schacon/rack.git rack
Initialized empty Git repository <span class="hljs-keyword">in</span> /opt/myproj/rack/.git/
<span class="hljs-keyword">...</span>
Receiving objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3184</span>/<span class="hljs-number">3184</span>), <span class="hljs-number">677.42</span> KiB | <span class="hljs-number">34</span> KiB/s, done.
Resolving deltas: <span class="hljs-number">100</span>% (<span class="hljs-number">1952</span>/<span class="hljs-number">1952</span>), done.
$ git commit -am <span class="hljs-string">'added rack submodule'</span>
[rack cc49a69] added rack submodule
 <span class="hljs-number">2</span> files changed, <span class="hljs-number">4</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
 create mode <span class="hljs-number">100644</span> .gitmodules
 create mode <span class="hljs-number">160000</span> rack
$ git checkout master
Switched to branch <span class="hljs-string">"master"</span>
$ git status
<span class="hljs-comment"># On branch master</span>
<span class="hljs-comment"># Untracked files:</span>
<span class="hljs-comment">#   (use "git add &lt;file&gt;..." to include in what will be committed)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#      rack/</span>
</code></pre><p>Вы будете вынуждены либо переместить каталог подмодуля в другое место, либо удалить его. В случае удаления вам потребуется клонировать его снова при переключении обратно, и тогда вы можете потерять локальные изменения или ветки, которые не были отправлены в основной репозиторий.</p>
<p>Последняя проблема, которая возникает у многих, и о которой стоит предостеречь, возникает при переходе от подкаталогов к подмодулям. Если вы держали некоторые файлы под версионным контролем в своём проекте, а сейчас хотите перенести их в подмодуль, вам надо быть осторожным, иначе Git разозлится на вас. Допустим, вы держите файлы rack в подкаталоге проекта, и вы хотите вынести его в подмодуль. Если вы просто удалите подкаталог и затем выполните <code>submodule add</code>, Git наорёт на вас:</p>
<pre><code><span class="hljs-variable">$ </span>rm -<span class="hljs-constant">Rf</span> rack/
<span class="hljs-variable">$ </span>git submodule add git<span class="hljs-variable">@github</span>.<span class="hljs-symbol">com:</span>schacon/rack.git rack
<span class="hljs-string">'rack'</span> already exists <span class="hljs-keyword">in</span> the index
</code></pre><p>Вначале вам следует убрать каталог <code>rack</code> из индекса (убрать из-под версионного контроля). Потом можете добавить подмодуль:</p>
<pre><code>$ git rm -r rack
$ git submodule <span class="hljs-keyword">add</span> git@github<span class="hljs-preprocessor">.com</span>:schacon/rack<span class="hljs-preprocessor">.git</span> rack
Initialized empty Git repository <span class="hljs-keyword">in</span> /opt/testsub/rack/<span class="hljs-preprocessor">.git</span>/
<span class="hljs-label">remote:</span> Counting objects: <span class="hljs-number">3184</span>, done.
<span class="hljs-label">remote:</span> Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">1465</span>/<span class="hljs-number">1465</span>), done.
<span class="hljs-label">remote:</span> Total <span class="hljs-number">3184</span> (delta <span class="hljs-number">1952</span>), reused <span class="hljs-number">2770</span> (delta <span class="hljs-number">1675</span>)
Receiving objects: <span class="hljs-number">100</span>% (<span class="hljs-number">3184</span>/<span class="hljs-number">3184</span>), <span class="hljs-number">677.42</span> KiB | <span class="hljs-number">88</span> KiB/s, done.
Resolving deltas: <span class="hljs-number">100</span>% (<span class="hljs-number">1952</span>/<span class="hljs-number">1952</span>), done.
</code></pre><p>Теперь, предположим, вы сделали это в ветке. Если вы попытаетесь переключиться обратно на ту ветку, где эти файлы всё ещё в актуальном дереве, а не в подмодуле, то вы получите такую ошибку:</p>
<pre><code>$ git checkout master
error: Untracked working tree <span class="hljs-built_in">file</span> <span class="hljs-string">'rack/AUTHORS'</span> would be overwritten <span class="hljs-keyword">by</span> <span class="hljs-built_in">merge</span>.
</code></pre><p>Вам следует переместить каталог подмодуля <code>rack</code>, перед тем, как вы сможете переключиться на ветку, которая не содержит его:</p>
<pre><code><span class="hljs-variable">$ </span>mv rack /tmp/
<span class="hljs-variable">$ </span>git checkout master
<span class="hljs-constant">Switched</span> to branch <span class="hljs-string">"master"</span>
<span class="hljs-variable">$ </span>ls
<span class="hljs-constant">README</span>    rack
</code></pre><p>Затем, когда вы переключитесь обратно, вы получите пустой каталог <code>rack</code>. Вы сможете либо выполнить <code>git submodule update</code> для повторного клонирования, или вернуть содержимое вашего каталога <code>/tmp/rack</code> обратно в пустой каталог.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../instrumenti_git/otladka_s_pomoschyu_git.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../instrumenti_git/sliyanie_podderevev.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
